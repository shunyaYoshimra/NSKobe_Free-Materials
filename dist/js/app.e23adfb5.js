(function(e){function t(t){for(var n,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},o={app:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"41f3":function(e,t,a){"use strict";a("f884")},"45fc":function(e,t,a){"use strict";a("7706")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("Header"),a("div",{attrs:{id:"pages"}},[a("router-view")],1)],1)},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"overflow-hidden"},[a("v-app-bar",{attrs:{absolute:"",color:"white","elevate-on-scroll":"","scroll-target":"#scrolling-techniques-7"}},[a("v-app-bar-nav-icon"),a("v-toolbar-title",{on:{click:function(t){return e.changeRoute("/")}}},[e._v("Kobe CP Free Materials")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeRoute("/")}}},[a("v-icon",[e._v("mdi-magnify")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(t){return e.changeRoute("/upload")}}},[a("v-icon",[e._v("mdi-cloud-upload")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-dots-vertical")])],1)],1),a("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7"}},[a("v-container",{staticStyle:{height:"64px"}})],1)],1)},i=[],l={methods:{changeRoute:function(e){this.$router.push(e)}}},c=l,u=a("2877"),d=a("6544"),p=a.n(d),h=a("40dc"),f=a("5bc1"),v=a("8336"),m=a("b0af"),g=a("a523"),y=a("132d"),b=a("8dd9"),w=a("2fa4"),_=a("2a7f"),k=Object(u["a"])(c,s,i,!1,null,null,null),x=k.exports;p()(k,{VAppBar:h["a"],VAppBarNavIcon:f["a"],VBtn:v["a"],VCard:m["a"],VContainer:g["a"],VIcon:y["a"],VSheet:b["a"],VSpacer:w["a"],VToolbarTitle:_["a"]});var C={components:{Header:x}},V=C,P=Object(u["a"])(V,o,r,!1,null,null,null),O=P.exports,M=a("f309");n["a"].use(M["a"]);var S=new M["a"]({}),j=a("8c4f"),B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"materials"}},[a("v-app",[a("div",{staticClass:"search-group"},[a("div",{staticClass:"search_bar"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("mdi-magnify")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],attrs:{id:"text2",type:"text",placeholder:"キーワードを入力"},domProps:{value:e.keyword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()},input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),a("i",{staticClass:"fas fa-times search_icon"})],1)]),a("div",{staticClass:"materials-wrapper"},[e._l(e.materials,(function(t){return a("v-card",{key:t,staticClass:"mx-auto my-12 each-card",attrs:{loading:e.loading,"max-width":"374"}},[a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{color:"deep-purple",height:"10",indeterminate:""}})],1),a("v-img",{staticClass:"card-img",attrs:{height:"250",src:t.url}}),a("v-card-title",[a("span",{staticClass:"download-icon",attrs:{id:"download"},on:{click:function(a){return e.downloadMedia(t.file_name)}}},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a("v-icon",e._g(e._b({},"v-icon",o,!1),n),[e._v(" mdi-cloud-upload ")])]}}],null,!0)},[a("span",[e._v("ダウンロードする!!")])])],1)]),a("v-card-text",[a("div",[e._v(" #"+e._s(t.tags)+" ")])])],2)}))],2)])],1)},T=[],A=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("bc3a")),R=a.n(A),E=a("94ed"),F={data:function(){return{loading:!1,selection:1,icons:{mdiAccount:E["a"]},awsPath:"https://golang-s3-test.s3.ap-northeast-1.",materials:[],keyword:""}},mounted:function(){var e=this;R.a.get("/api/materials").then((function(t){for(var a=0;a<t.data.length;a++)e.materials.push(t.data[a]);console.log(t.data)}))},methods:{downloadMedia:function(e){R.a.post("/api/download/"+e).then((function(t){console.log(t),R.a.get("/app/images/"+e,{responseType:"blob"}).then((function(t){var a=new Blob([t.data],{type:"application/pdf"}),n=document.createElement("a");n.href=URL.createObjectURL(a),n.download=e,n.click(),URL.revokeObjectURL(n.href),R.a.post("/api/delete-file/"+e).then((function(e){console.log(e)}))})).catch(console.error)}))},search:function(){var e=this;R.a.post("/api/search/"+this.keyword).then((function(t){e.materials=[];for(var a=0;a<t.data.length;a++)e.materials.push(t.data[a])}))}}},U=F,I=(a("45fc"),a("7496")),D=a("99d9"),L=a("adda"),$=a("8e36"),N=a("3a2f"),H=Object(u["a"])(U,B,T,!1,null,null,null),q=H.exports;p()(H,{VApp:I["a"],VBtn:v["a"],VCard:m["a"],VCardText:D["a"],VCardTitle:D["b"],VIcon:y["a"],VImg:L["a"],VProgressLinear:$["a"],VTooltip:N["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("form",{ref:"myForm",attrs:{name:"myForm",action:e.getPath,method:"post",enctype:"multipart/form-data"}},[a("input",{attrs:{type:"hidden",name:"time"},domProps:{value:e.now}}),a("input",{attrs:{type:"hidden",name:"extension"},domProps:{value:e.extension}}),a("div",{staticClass:"form-group commonStyle",class:{styleA:e.styleA,styleB:e.styleB},attrs:{id:"upload"},on:{dragover:function(t){return t.preventDefault(),e.changeStyle(t,"ok")},dragleave:function(t){return t.preventDefault(),e.changeStyle(t,"no")},drop:function(t){return t.preventDefault(),e.uploadFile(t)}}},[a("label",{staticClass:"button",attrs:{for:"upload_image"}},[a("p",[e._v("画像を選択")]),a("input",{staticStyle:{display:"none"},attrs:{id:"upload_image",type:"file",name:"img",accept:"image/*"},on:{change:function(t){return e.uploadFile(t)}}})]),a("p",[e._v("またはここに画像ファイルをドラッグ＆ドロップ")]),a("img",{directives:[{name:"show",rawName:"v-show",value:e.preview,expression:"preview"}],staticStyle:{width:"300px"},attrs:{src:e.preview}}),a("p",{directives:[{name:"show",rawName:"v-show",value:e.preview,expression:"preview"}]},[e._v(e._s(e.name))])]),a("p",{attrs:{id:"err-message"}},[e._v(e._s(e.errMessage))]),a("v-combobox",{attrs:{chips:"",clearable:"",label:"Your favorite hobbies",multiple:"",solo:"",id:"chip"},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.attrs,o=t.item,r=t.select,s=t.selected;return[a("v-chip",e._b({attrs:{"input-value":s,close:""},on:{click:r,"click:close":function(t){return e.remove(o)}}},"v-chip",n,!1),[a("strong",[e._v(e._s(o))])])]}}]),model:{value:e.chips,callback:function(t){e.chips=t},expression:"chips"}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"password-field",attrs:{placeholder:"Enter Password to Upload",type:"text",id:"password"},domProps:{value:e.password},on:{click:e.changeType,input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("p",{attrs:{id:"err-message"}},[e._v(e._s(e.errMessagePass))]),a("div",{staticClass:"button-wrapper"},[a("v-btn",{staticClass:"ma-2 white--text",attrs:{loading:e.loading,disabled:e.loading,color:"blue-grey"},on:{click:function(t){return e.clickUpload()}}},[e._v(" アップロード "),a("v-icon",{attrs:{right:"",dark:""}},[e._v(" mdi-cloud-upload ")])],1)],1)],1)])},K=[],Y=a("2909"),z=(a("b0c0"),a("ac1f"),a("1276"),a("a434"),{data:function(){return{loader:null,loading:!1,preview:"",name:"",styleA:!0,styleB:!1,chips:["Kobe","神戸","フリー素材"],now:"00:00:00:00:00:000",extension:"",attached:!1,errMessage:"",password:"",errMessagePass:""}},mounted:function(){var e=new Date;this.now=e.getMonth()+":"+e.getDate()+":"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()},watch:{loader:function(){var e=this,t=this.loader;this[t]=!this[t],setTimeout((function(){return e[t]=!1}),3e3),this.loader=null}},computed:{getPath:function(){return console.log("/api/materials/"+this.chips),"/api/materials/"+this.chips}},methods:{uploadFile:function(e){var t=this;this.attached=!0,this.styleA=!0,this.styleB=!1;var a=e.target.files?e.target.files:e.dataTransfer.files,n=a[0],o=new FileReader;o.onload=function(e){t.preview=e.target.result},o.readAsDataURL(n),this.name=a[0].name,this.extension=this.name.split(".").pop(),document.getElementById("upload_image").files=a},changeStyle:function(e,t){"ok"==t?(this.styleA=!1,this.styleB=!0):(this.styleA=!0,this.styleB=!1)},remove:function(e){this.chips.splice(this.chips.indexOf(e),1),this.chips=Object(Y["a"])(this.chips)},clickUpload:function(){"ntutors"===this.password?(this.errMessagePass="",!0===this.attached?(this.loader="loading",setTimeout((function(){return document.myForm.submit()}),1e3)):this.errMessage="ファイルを選択して下さい"):this.errMessagePass="パスワードが違います"},changeType:function(){document.getElementById("password").setAttribute("type","password")}}}),G=z,Q=(a("41f3"),a("cc20")),W=a("2b5d"),X=Object(u["a"])(G,J,K,!1,null,null,null),Z=X.exports;p()(X,{VBtn:v["a"],VChip:Q["a"],VCombobox:W["a"],VIcon:y["a"]}),n["a"].use(j["a"]);var ee=new j["a"]({routes:[{path:"/",component:q},{path:"/upload",component:Z}]});a("5363");n["a"].config.productionTip=!1,console.log("1"),new n["a"]({router:ee,vuetify:S,render:function(e){return e(O)}}).$mount("#app")},7706:function(e,t,a){},f884:function(e,t,a){}});
//# sourceMappingURL=app.e23adfb5.js.map